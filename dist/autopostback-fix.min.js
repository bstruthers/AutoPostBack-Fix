/*! ASP.NET AutoPostBack Fix - v0.1.0 - 2013-05-17
* https://github.com/bstruthers/AutoPostBack-Fix
* Copyright (c) 2013 Ben Struthers; Licensed MIT */
if(bstruthers===void 0)var bstruthers={};(function(e,t){"use strict";t=t||window,t.AutoPostBackFix=function(e){var t,n,i,l,r,s,u,o,h="blur",a="click",c="keypress",m="onchange";return n=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},l=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},i=function(){this.listening||(n(this.element,h,this.blurOrClick),n(this.element,a,this.blurOrClick),n(this.element,c,u),this.listening=!0)},r=function(){this.listening&&(l(this.element,h,this.blurOrClick),l(this.element,a,this.blurOrClick),l(this.element,c,u),this.listening=!1)},s=function(){this.element.setAttribute?this.element.setAttribute(m,this.originalOnChange):this.element[m]=this.originalOnChange.value,r.apply(this)},u=function(e){var n=e||window.event,i=n.keyCode||n.which||n.charCode;13===i&&t&&(n.preventDefault?n.preventDefault():n.returnValue=!1,t.submit())},o=function(n){var l=this;t=e.forms[0],l.element=n,l.originalValue=l.element.value,l.originalOnChange=l.element.getAttribute(m),l.element.removeAttribute(m),"function"==typeof l.element.getAttribute(m)&&(l.element[m]=null),this.blurOrClick=function(){l.element.value!==l.originalValue&&t&&t.submit()},l.listening=!1,i.apply(l)},o.prototype={disable:r,enable:i,destroy:s},o}(e)})(document,bstruthers);